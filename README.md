# UI и API тесты для сайта org.1-ofd.ru

Этот проект содержит UI и API тесты для сайта [org.1-ofd.ru](https://org.1-ofd.ru) с использованием JUnit 5, Selenide, RestAssured и Allure для отчетности.

## Содержание

- [Требования](#требования)
- [Установка](#установка)
- [Запуск тестов](#запуск-тестов)
- [Генерация отчетов](#генерация-отчетов)
- [Структура проекта](#структура-проекта)
- [Тестовые сценарии](#тестовые-сценарии)

## Требования

- Java Development Kit (JDK) 8 или выше
- Gradle 6.x или выше
- Браузер Chrome (или другой, если настроен в Selenide)

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/KaterinaLoiko/ii-test.git
    cd ii-test-project
    ```

2. Установите зависимости:

    ```bash
    ./gradlew build
    ```
   
## Запуск тестов

Запустите все тесты с помощью Gradle:

```bash
./gradlew test
```

## Генерация отчетов

После выполнения тестов сгенерируйте отчет Allure:
```bash
./gradlew allureReport
```
Отчет будет доступен в директории build/reports/allure-report. 
Откройте файл index.html в браузере, чтобы просмотреть результаты тестов.

## Структура проекта

ii-test/
├── build.gradle  
├── settings.gradle  
├── README.md  
└── src/  
├── main/    
│ └── java/    
│ └── LoginPage.java   
└── test/    
└── java/    
├── ui/    
│ ├── LoginUITest.java    
│ └── ...     
└── api/    
├── LoginAPITest.java    
└── ...
- `build.gradle`: Файл конфигурации для сборки проекта.
- `settings.gradle`: Файл настроек Gradle, определяющий модули проекта.
- `README.md`: Основной файл документации проекта.
- `src/main/java/LoginPage.java`: Класс страницы логина.
- `src/test/java/ui/`: Пакет с UI тестами.
    - `LoginUITest.java`: Тесты для пользовательского интерфейса страницы логина.
- `src/test/java/api/`: Пакет с API тестами.
    - `LoginAPITest.java`: Тесты для API методов, связанных со страницей логина.

- build.gradle: Файл конфигурации Gradle.
- settings.gradle: Настройки проекта Gradle.
- README.md: Документация проекта.
- src/main/java/LoginPage.java: Page Object для страницы логина.
- src/test/java/UiLoginTest.java: UI тесты для страницы логина.
- src/test/java/ApiLoginTest.java: API тесты для проверки методов.

## Тестовые сценарии
### UI тесты

#### Проверка видимости элементов на странице логина

**Цель:** Убедиться, что все необходимые элементы (поля ввода, кнопки) видимы на странице.

**Шаги:**

1. Открыть страницу логина.
2. Проверить, что поле ввода email видимо.
3. Проверить, что кнопка "Войти" видима.

**Ожидаемый результат:** Все элементы видимы на странице.

#### Проверка ввода и отображения корректного email

**Цель:** Убедиться, что поле ввода email корректно принимает и отображает введенный адрес.

**Шаги:**

1. Открыть страницу логина.
2. Ввести корректный email в поле ввода.
3. Проверить, что введенный email отображается в поле.

**Ожидаемый результат:** Введенный email корректно отображается в поле ввода.

#### Проверка ввода корректного email и входа в систему

**Цель:** Убедиться, что пользователь может ввести корректный email и нажать кнопку "Войти".

**Шаги:**

1. Открыть страницу логина.
2. Ввести корректный email в поле ввода.
3. Нажать кнопку "Войти".
   
**Ожидаемый результат:** Пользователь перенаправлен на страницу ввода пароля.

#### Проверка ввода некорректного email

**Цель:** Убедиться, что система корректно обрабатывает некорректный email.

**Шаги:**

1. Открыть страницу логина.
2. Ввести email незарегистрированного пользователя.
3. Нажать кнопку "Войти".
   
**Ожидаемый результат:** Появляется сообщение об ошибке "Пользователь не найден"

#### Проверка ввода пустого email

**Цель:** Убедиться, что система корректно обрабатывает пустое поле email.

**Шаги:**

1. Открыть страницу логина.
2. Оставить поле email пустым.
3. Нажать кнопку "Войти".
   
**Ожидаемый результат:** Цвет рамки у поля email стал красным.

#### Проверка логина

**Цель:** Убедиться, что пользователь может ввести пароль и завершить процесс логина.

**Шаги:**

1. Открыть страницу логина.
2. Ввести корректный email в поле ввода.
3. Нажать кнопку "Войти".
4. Ввести пароль.
5. Нажать кнопку "Подтвердить".
  
**Ожидаемый результат:** Пользователь успешно завершает процесс логина и перенаправляется на страницу добавления организации

#### Проверка ввода неверного пароля

**Цель:** Убедиться, что система корректно обрабатывает некорректный пароль.

**Шаги:**

1. Открыть страницу логина.
2. Ввести корректный email в поле ввода.
3. Нажать кнопку "Войти".
4. Ввести некорректный пароль.
5. Нажать кнопку "Подтвердить".
  
**Ожидаемый результат:** Появляется сообщение об ошибке, указывающее на некорректный пароль.

### Api тесты

#### Проверка логина пользователя по api

**Цель:** Убедиться, что пользователь может залогиниться.

**Шаги:**
1. Отправить POST-запрос c телом {"login":"saperew170@ahaks.com","password":"8f2bc376","rememberme":true}" на https://org.1-ofd.ru/api/cp-core/user/login.
2. Проверить, что статус ответа равен 200.
  
**Ожидаемый результат:** Метод POST возвращает 200.

#### Проверка возможности восстановить пароль

**Цель:** Убедиться, что метод восстановления пароля доступен и возвращает 200.

**Шаги:**
1. Отправить POST-запрос c телом {"login":"saperew170@ahaks.com"}" на https://org.1-ofd.ru/api/cp-core/user/password/restore.
2. Проверить, что статус ответа равен 200.

**Ожидаемый результат:** Метод POST возвращает 200.

